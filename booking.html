<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BusEase - Seat Selection</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Poppins', sans-serif;
        }
        .seat {
            width: 40px;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 4px;
            cursor: pointer;
            transition: all 0.2s;
        }
        .seat:hover {
            transform: scale(1.1);
        }
        .available {
            background-color: #4ade80;
            color: white;
        }
        .booked {
            background-color: #f87171;
            color: white;
            cursor: not-allowed;
        }
        .selected {
            background-color: #60a5fa;
            color: white;
        }
        .driver {
            background-color: #6b7280;
            color: white;
            cursor: not-allowed;
        }
    </style>
</head>
<body class="bg-gray-50">
    <!-- Navigation -->
    <nav class="bg-blue-600 text-white p-4 shadow-md">
        <div class="container mx-auto flex justify-between items-center">
            <div class="flex items-center space-x-2">
                <i class="fas fa-bus text-2xl"></i>
                <span class="text-xl font-bold">BusEase</span>
            </div>
            <div class="hidden md:flex space-x-6">
                <a href="index.html" class="hover:text-blue-200">Home</a>
                <a href="buses.html" class="hover:text-blue-200">Buses</a>
                <a href="booking.html" class="hover:text-blue-200">Book</a>
                <a href="history.html" class="hover:text-blue-200">My Bookings</a>
            </div>
            <div class="md:hidden">
                <i class="fas fa-bars text-xl"></i>
            </div>
        </div>
    </nav>

    <div class="container mx-auto px-4 py-8">
        <div class="flex flex-col md:flex-row gap-8">
            <!-- Seat Selection -->
            <div class="md:w-2/3">
                <h2 class="text-2xl font-bold mb-6">Select Your Seats</h2>
                
                <!-- Bus Layout -->
                <div class="bg-white rounded-lg shadow-md p-6 mb-6">
                    <div class="flex justify-center mb-8">
                        <div class="w-16 h-8 bg-gray-300 rounded-t-lg flex items-center justify-center">
                            <i class="fas fa-user-shield"></i>
                        </div>
                    </div>
                    
                    <!-- Seat Grid -->
                    <div class="grid grid-cols-4 gap-4 mb-6" id="seatMap">
                        <!-- Seats will be generated by JavaScript -->
                    </div>
                    
                    <!-- Seat Legend -->
                    <div class="flex justify-center space-x-6">
                        <div class="flex items-center">
                            <div class="seat available mr-2"></div>
                            <span>Available</span>
                        </div>
                        <div class="flex items-center">
                            <div class="seat booked mr-2"></div>
                            <span>Booked</span>
                        </div>
                        <div class="flex items-center">
                            <div class="seat selected mr-2"></div>
                            <span>Selected</span>
                        </div>
                    </div>
                </div>
                
                <!-- Passenger Details -->
                <div class="bg-white rounded-lg shadow-md p-6">
                    <h3 class="text-xl font-semibold mb-4">Passenger Details</h3>
                    <div class="space-y-4">
                        <div>
                            <label class="block text-gray-700 mb-2">Full Name</label>
                            <input type="text" class="w-full p-3 border rounded-lg">
                        </div>
                        <div>
                            <label class="block text-gray-700 mb-2">Email</label>
                            <input type="email" class="w-full p-3 border rounded-lg">
                        </div>
                        <div>
                            <label class="block text-gray-700 mb-2">Phone Number</label>
                            <input type="tel" class="w-full p-3 border rounded-lg">
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Booking Summary -->
            <div class="md:w-1/3">
                <div class="bg-white rounded-lg shadow-md p-6 sticky top-4">
                    <h3 class="text-xl font-semibold mb-4">Booking Summary</h3>
                    
                    <div class="space-y-4 mb-6">
                        <div class="flex justify-between">
                            <span class="text-gray-600">Route:</span>
                            <span>New York to Boston</span>
                        </div>
                        <div class="flex justify-between">
                            <span class="text-gray-600">Date:</span>
                            <span>Nov 15, 2023</span>
                        </div>
                        <div class="flex justify-between">
                            <span class="text-gray-600">Departure:</span>
                            <span>08:00 AM</span>
                        </div>
                        <div class="flex justify-between">
                            <span class="text-gray-600">Bus Type:</span>
                            <span>AC Sleeper</span>
                        </div>
                    </div>
                    
                    <div class="border-t pt-4 mb-6">
                        <div class="flex justify-between mb-2">
                            <span class="text-gray-600">Selected Seats:</span>
                            <span id="selectedSeats">None</span>
                        </div>
                        <div class="flex justify-between font-semibold">
                            <span>Total Fare:</span>
                            <span id="totalFare">$0.00</span>
                        </div>
                    </div>
                    
                    <button class="w-full bg-blue-600 text-white py-3 rounded-lg hover:bg-blue-700 transition">
                        Proceed to Payment
                    </button>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Seat data
        const seatData = [
            { id: 'A1', status: 'available', type: 'standard' },
            { id: 'A2', status: 'available', type: 'standard' },
            { id: 'A3', status: 'booked', type: 'standard' },
            { id: 'A4', status: 'available', type: 'standard' },
            { id: 'B1', status: 'available', type: 'standard' },
            { id: 'B2', status: 'available', type: 'standard' },
            { id: 'B3', status: 'available', type: 'standard' },
            { id: 'B4', status: 'booked', type: 'standard' },
            { id: 'C1', status: 'available', type: 'standard' },
            { id: 'C2', status: 'available', type: 'standard' },
            { id: 'C3', status: 'available', type: 'standard' },
            { id: 'C4', status: 'available', type: 'standard' },
            { id: 'D1', status: 'available', type: 'standard' },
            { id: 'D2', status: 'booked', type: 'standard' },
            { id: 'D3', status: 'available', type: 'standard' },
            { id: 'D4', status: 'available', type: 'standard' }
        ];

        // Initialize seat map
        const seatMap = document.getElementById('seatMap');
        const selectedSeatsDisplay = document.getElementById('selectedSeats');
        const totalFareDisplay = document.getElementById('totalFare');
        
        let selectedSeats = [];
        const seatPrice = 25.00;

        // Generate seats
        seatData.forEach(seat => {
            const seatElement = document.createElement('div');
            seatElement.className = `seat ${seat.status}`;
            seatElement.textContent = seat.id;
            seatElement.dataset.id = seat.id;
            seatElement.dataset.status = seat.status;
            
            if (seat.status !== 'booked') {
                seatElement.addEventListener('click', () => toggleSeatSelection(seatElement));
            }
            
            seatMap.appendChild(seatElement);
        });

        // Toggle seat selection
        function toggleSeatSelection(seatElement) {
            const seatId = seatElement.dataset.id;
            const currentStatus = seatElement.dataset.status;
            
            if (currentStatus === 'selected') {
                // Deselect seat
                seatElement.className = 'seat available';
                seatElement.dataset.status = 'available';
                selectedSeats = selectedSeats.filter(id => id !== seatId);
            } else {
                // Select seat
                seatElement.className = 'seat selected';
                seatElement.dataset.status = 'selected';
                selectedSeats.push(seatId);
            }
            
            updateBookingSummary();
        }

        // Update booking summary
        function updateBookingSummary() {
            if (selectedSeats.length === 0) {
                selectedSeatsDisplay.textContent = 'None';
                totalFareDisplay.textContent = '$0.00';
            } else {
                selectedSeatsDisplay.textContent = selectedSeats.join(', ');
                const total = (selectedSeats.length * seatPrice).toFixed(2);
                totalFareDisplay.textContent = `$${total}`;
            }
        }
    </script>
</body>
</html>